<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Portal - BoldVPN</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="../assets/favicon.svg" type="image/svg+xml">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Vanta.js animated background -->
    <div id="vanta-background"></div>
    
    <!-- Header -->
    <header class="site-header">
        <div class="container nav">
            <a class="brand" href="../index.html">
                <img class="logo" src="../assets/logo.svg?v=cp1" alt="BoldVPN" />
                <span>BoldVPN</span>
            </a>
        </div>
    </header>

    <!-- Auth Container (Login) -->
    <div id="auth-container"></div>

    <!-- Portal Container (Dashboard) -->
    <div id="portal-container" style="display: none;">
        <div class="portal-wrapper">
            <aside class="portal-sidebar">
                <div class="sidebar-header">
                    <div class="user-info">
                        <h3 id="sidebar-username">User</h3>
                        <p id="sidebar-plan">Basic Plan</p>
                    </div>
                </div>
                <nav class="sidebar-nav">
                    <button class="nav-item active" data-section="overview"><span>ðŸ“Š</span> Overview</button>
                    <button class="nav-item" data-section="devices"><span>ðŸ“±</span> Manage Devices</button>
                    <button class="nav-item" data-section="usage"><span>ðŸ“ˆ</span> Usage History</button>
                    <button class="nav-item" data-section="profile"><span>ðŸ‘¤</span> Profile Settings</button>
                    <button class="nav-item" data-section="password"><span>ðŸ”’</span> Change Password</button>
                    <button class="nav-item" data-section="billing"><span>ðŸ’³</span> Billing & Plans</button>
                </nav>
                <div class="sidebar-footer">
                    <button id="logout-btn" class="btn btn-secondary">Logout</button>
                </div>
            </aside>
            <main class="portal-content">
                <div id="content-area"></div>
            </main>
        </div>
    </div>

    <!-- SECTION TEMPLATES -->
    <template id="login-template">
        <div class="auth-section">
            <div class="auth-card">
                <h2>Account Login</h2>
                <p class="auth-subtitle">Access your BoldVPN account</p>
                <form id="login-form" class="auth-form">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <div class="form-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="remember-me">
                            Remember me
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary">Sign In</button>
                </form>
                <div id="login-error" class="alert alert-error" style="display: none;"></div>
            </div>
        </div>
    </template>

    <template id="overview-template">
        <div class="unified-container">
            <div class="section-header"><h2>Welcome back, <span id="overview-username">User</span>!</h2></div>
            <div class="dashboard-grid">
                <div class="dashboard-card"><h3>ðŸ“Š Data Usage</h3><div class="usage-stats"><div class="usage-item"><span class="usage-label">Used:</span><span class="usage-value" id="data-used">Loading...</span></div><div class="usage-item"><span class="usage-label">Limit:</span><span class="usage-value" id="data-limit">Loading...</span></div><div class="usage-progress"><div class="progress-bar" id="data-progress" style="width: 0%"></div></div></div></div>
                <div class="dashboard-card"><h3>âš¡ Connection Speed</h3><div class="speed-stats"><div class="speed-item"><span class="usage-label">Download:</span><span class="usage-value" id="speed-down">Loading...</span></div><div class="speed-item"><span class="usage-label">Upload:</span><span class="usage-value" id="speed-up">Loading...</span></div></div></div>
                <div class="dashboard-card"><h3>ðŸ“± Connected Devices</h3><div class="devices-stats"><div class="devices-count"><span class="devices-number" id="devices-count">0</span><span class="devices-label">Devices</span></div><div class="devices-limit"><span>of <span id="devices-limit">--</span> allowed</span></div></div></div>
                <div class="dashboard-card"><h3>âœ“ Subscription Status</h3><div class="subscription-info"><p><strong>Status:</strong> <span id="subscription-status" class="status-active">Active</span></p><p><strong>Plan:</strong> <span id="subscription-plan">Basic</span></p></div></div>
            </div>
        </div>
    </template>

    <template id="devices-template">
        <div class="unified-container">
            <div class="section-header">
                <h2>Manage Devices</h2>
                <div style="display: flex; gap: 10px;">
                    <button id="refresh-devices-btn" class="btn btn-primary" type="button">ðŸ”„ Refresh</button>
                    <button id="add-device-btn" class="btn btn-primary" type="button">+ Add Device</button>
                </div>
            </div>
            <div id="devices-container"><p style="text-align: center; color: var(--muted); padding: 40px;">Loading devices...</p></div>
        </div>
    </template>

    <template id="usage-template">
        <div class="unified-container">
            <div class="section-header"><h2>Usage History</h2></div>
            <h3>Data Usage (Last 30 Days)</h3>
            <canvas id="usage-chart" style="max-height: 400px;"></canvas>
        </div>
    </template>

    <template id="profile-template">
        <div class="unified-container form-container">
            <div class="section-header"><h2>Profile Settings</h2></div>
            <form id="profile-form" class="auth-form">
                <div class="form-group"><label for="profile-username">Username</label><input type="text" id="profile-username" value="User" disabled></div>
                <div class="form-group"><label for="profile-email">Email</label><input type="email" id="profile-email" value="" required></div>
                <button type="submit" class="btn btn-primary">Update Profile</button>
            </form>
            <div id="profile-message" class="alert" style="display: none; margin-top: 15px;"></div>
        </div>
    </template>

    <template id="password-template">
        <div class="unified-container form-container">
            <div class="section-header"><h2>Change Password</h2></div>
            <form id="password-form" class="auth-form">
                <div class="form-group"><label for="current-password">Current Password</label><input type="password" id="current-password" required></div>
                <div class="form-group"><label for="new-password">New Password</label><input type="password" id="new-password" required></div>
                <div class="form-group"><label for="confirm-password">Confirm New Password</label><input type="password" id="confirm-password" required></div>
                <button type="submit" class="btn btn-primary">Update Password</button>
            </form>
            <div id="password-message" class="alert" style="display: none; margin-top: 15px;"></div>
        </div>
    </template>

    <template id="billing-template">
        <div class="unified-container">
            <div class="section-header"><h2>Billing & Plans</h2></div>
            <div class="dashboard-grid">
                <div class="dashboard-card"><h3>Current Plan</h3><p><strong>Plan:</strong> Basic</p><p><strong>Status:</strong> <span class="status-active">Active</span></p><button class="btn btn-primary" style="margin-top: 10px;">Upgrade Plan</button></div>
                <div class="dashboard-card"><h3>Billing History</h3><p style="color: var(--muted);">No billing history available.</p></div>
            </div>
        </div>
    </template>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 BoldVPN. All rights reserved.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <script src="config.js"></script>
    <script type="module" src="app.js"></script>
    
    <!-- Vanta.js animated background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>
    <script>
        if (document.getElementById('vanta-background')) {
            VANTA.GLOBE({
                el: "#vanta-background",
                mouseControls: true,
                touchControls: true,
                gyroControls: false,
                minHeight: 200.00,
                minWidth: 200.00,
                scale: 1.00,
                scaleMobile: 1.00,
                color: 0x38bdf8,
                color2: 0x0ea5e9,
                backgroundColor: 0x0b1120,
                size: 1.2
            });
        }
    </script>
</body>
</html>