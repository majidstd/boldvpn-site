sql {
    driver = "rlm_sql_postgresql"
    dialect = "postgresql"
    
    server = "localhost"
    port = 5432
    login = "radiususer"
    password = "RadiusSecret@#"
    radius_db = "radius"
    
    read_clients = no
    
    # SQL-User-Name mapping
    sql_user_name = "%{User-Name}"
    
    authcheck_table = "radcheck"
    authreply_table = "radreply"
    groupcheck_table = "radgroupcheck"
    groupreply_table = "radgroupreply"
    usergroup_table = "radusergroup"
    
    # Accounting table
    acct_table1 = "radacct"
    acct_table2 = "radacct"
    
    pool {
        start = 5
        min = 4
        max = 10
        spare = 3
        uses = 0
        lifetime = 0
        idle_timeout = 60
    }
    
    # Include queries
    $INCLUDE ${modconfdir}/${.:name}/main/${dialect}/queries.conf
    
    # Accounting configuration
    accounting {
        reference = "%{tolower:type.%{Acct-Status-Type}.query}"
        
        type {
            start {
                query = "${....accounting_start_query}"
            }
            interim-update {
                query = "${....accounting_update_query}"
            }
            stop {
                query = "${....accounting_stop_query}"
            }
        }
    }
}

